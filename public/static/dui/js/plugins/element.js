!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define("element",["jquery"],n):(e=e||self).element=n(e.jQuery)}(this,function(p){"use strict";p=p&&p.hasOwnProperty("default")?p.default:p;function o(e,n,i){return new o.Items[e](n,i)}var t="[dui-menubar]",m=".dui-menu",v=".dui-submenu",h=".dui-submenu__title",d=".dui-menu-item",r="[dui-dropdown]",u=".dui-dropdown-toggle",a=".dui-dropdown-menu",w="is-opened",s="is-active";return o.Items=o.prototype={navMenu:function(e,n){var i=this;i.elem=e,dui.setData(e,"navMenu",n);function o(e){p(i.elem).find(d).removeClass(s),p(i.elem).find(h).removeClass(s),p(i.elem).siblings().find(d).removeClass(s),p(i.elem).siblings().find(h).removeClass(s),function(e){p(e).addClass(s);var n=p(e).parents(m).prev(h);n[0]&&n.addClass(s)}(p(this)[0])}var t=p(i.elem).children(v),r=p(i.elem).find(d);!function a(e,l,c){var f=!1;p.each(e,function(e,n){var i=p(n),o=i.children(h),t=i.children(m),r=!!i.hasClass(w),d=r&&!f?f=!0:(i.removeClass(w),!1);o[0].isOpen=r,o[0].transition=dui.collapseTransition(t[0],{show:d}),o[0].show=function(){o[0].transition.show(),o[0].isOpen=!0,o.parent().addClass("is-opened")},o[0].hide=function(){o[0].transition.hide(),o[0].isOpen=!1,o.parent().removeClass("is-opened")};function s(e){e.preventDefault();var n=this,i=n.isOpen,o=p(n).parent().siblings().find(h);if(p("body").find("is-shrink").find(n)[0])return!1;i?n.hide():(n.show(),c&&o.each(function(e,n){n.hide()}))}o.off("click",s).on("click",s);var u=t.children(v);u&&a(u,l+1,c)})}(t,1,e.vnode.data.navMenu.openonly),r.off("click",o).on("click",o),e.inited=!0},dropDown:function(e,n){var i=this;i.options=p.extend(!0,{},n),dui.setData(e,"dropDown",{},{});e.vnode.data.dropDown;var o={top:"bottom",bottom:"top"},t=p(e).find(u),r=p(e).find(a);i.popper=dui.addPopper(t[0],r[0],{onCreate:function(e){i.transition=dui.transition(r[0],{name:"dui-zoom-in-"+o[e._options.placement]})},onUpdate:function(e){i.transition.data.name="dui-zoom-in-"+o[e.placement]}}),i.visible="none"==r.css("display"),i.toggle="hover"==t.attr("toggle")?"hover":"click",i.showTimeout=0,i.hideTimeout=150,i.timerout=0;function d(){clearTimeout(i.timerout),"none"===r.css("display")&&(i.timerout=setTimeout(function(){i.visible=!1,i.popper.updatePopper(),i.transition.show()},"hover"===i.toggle?i.showTimeout:0))}function s(){clearTimeout(i.timerout),i.timerout=setTimeout(function(){i.visible=!0,i.transition.hide()},"hover"===i.toggle?i.hideTimeout:0)}"hover"===i.toggle?(t.hover(d,s),r.hover(d,s)):t.on("click",function(e){i.visible?d():s()}),e.inited=!0}},o.render=function(e,n){n=n?'[dui-filter="'+n+'"]':"";var i={navMenu:function(){p(t+n).each(function(e,n){n.inited||o("navMenu",n,{openonly:void 0!==p(n).attr("openonly")})})},dropDown:function(){p(r+n).each(function(e,n){n.inited||o("dropDown",n,{})})}};i[e]?i[e]():dui.each(i,function(e,n){n()})},o.render(),o});