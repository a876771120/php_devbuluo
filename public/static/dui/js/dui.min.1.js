!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("dui",e):(t=t||self).dui=e()}(this,function(){"use strict";var t,a,o,e={},r=e.toString,n=e.hasOwnProperty,l=[].slice,c={},p={dir:t?t.substring(0,t.lastIndexOf("/")+1):i().substring(0,i().lastIndexOf("/")+1),base:""};function i(){return document.currentScript?document.currentScript.src:function(){for(var t,e=document.scripts,n=e.length-1,o=n;0<o;o--)if("interactive"===e[o].readyState){t=e[o].src;break}return t||e[n].src}()}function s(t){return t.replace(/([^:])\/+/g,"$1/")}function f(t,e){var n,o=e.base||window.location.href;if(function(t){return-1!==t.search(/^(http:\/\/|https:\/\/|\/\/)/)}(t))return s(t);if(n=(n=o.match(/[^\/]*\/\/[^\/]*\//))?(o=o.slice(0,o.lastIndexOf("/")+1),n[0]):o+="/",-1!==t.search(/^\//))return s(n+t);if(-1===t.search(/^\.\.\//))return s(o+(t=-1!==t.search(/^\.\//)?t.slice(2):t));for(;-1!==t.search(/^\.\.\//);){if(-1===o.lastIndexOf("/",o.length-2))throw new Error("lodjs geturl error, cannot find path in url");t=t.slice(3),o=o.slice(0,o.lastIndexOf("/",o.length-2)+1)}return s(o+t)}function u(t,e){var n=new RegExp("\\."+e+"$","i");return-1!==t.search(n)?t:t+"."+e}function d(t,e){if(!t){var n=function(){if(document.currentScript)return document.currentScript;if(a)return a;if(o&&"interactive"===o.readyState)return o;for(var t=document.head.getElementsByTagName("script"),e=t.length-1;0<=e;e--){var n=t[e];if("interactive"===n.readyState)return o=n}return null}().src;if(n)return n;throw new Error("在页面定义模块需要指定模块id")}if(b.defaluts.plugins[t])return u(p.dir+b.defaluts.plugins[t],"js");if(-1!==t.search(/^\./))throw new Error("lodjs define id"+t+"must absolute");return u(f(t,e.base),"js")}function h(t){return Array.isArray?Array.isArray(t):"array"===getType(t)}function v(t){return"function"==typeof t}function m(t){if(null===t)return"null";var e=typeof t;if("object"!=e)return e;var n=r.call(t).slice(8,-1).toLowerCase();return"object"!==n?n:t.constructor==Object?n:"unkonw"}function g(t){return null!=t&&t==t.window}function y(t){var e;if(!t||"object"!==m(t)||t.nodeType||g(t))return!1;try{if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(e in t)return n.call(t,e);for(e in t);return void 0===e||n.call(t,e)}function b(t,e,n){"string"!=typeof t&&(n=e,e=t,t=null),h(e)||(n=e,e=[]);var o=E(!0,{},p),r=d(t,o).split("?")[0];c[r]=c[r]||{},c[r]={id:t,deps:e,factory:n,status:"loaded",oncomplete:c[r].oncomplete||[],config:o}}function w(t,o,r){if(arguments.length<2)throw new Error("lodjs.use arguments miss");if("string"==typeof t&&(t=[t]),!h(t)||"function"!=typeof o)return error("lodjs.use arguments type error"),1;if(0===t.length)return o(),2;!function(t){return"object"===m(t)}(r)&&(r=E(!0,p,r)),window.jQuery&&jQuery.fn.on&&x(t,function(t,e){if("jquery"===e){var n=d(e).split("?")[0];c[n]=c[n]||{},c[n]={id:e,deps:[],factory:function(){return window.$},status:"loaded",oncomplete:c[n].oncomplete||[],config:{}}}});var i=t.length,s=[];return x(t,function(t,e){var n;n=t,function(t,e,n){var o=E(!0,p,n),r=function(t,e){return b.defaluts.plugins[t]?u(p.dir+b.defaluts.plugins[t],"js"):u(f(t,e),"js")}(t,o);if(o.id=t,c[r])return"error"!==c[r].status?"loading"!==c[r].status?c[r].exports?e(c[r].exports):v(c[r].factory)?w(c[r].deps,function(){_(r,e,l.call(arguments,0))},{base:r}):_(r,e):c[r].oncomplete.push(e):e();c[r]={status:"loading",exports:{},oncomplete:[]},function(t,e,n,o){var r=E({charset:document.charset},o),i=document.createElement("script");i.src=t,i.modId=o.id,i.setAttribute(b.defaluts.plugins[p.id]?"dui-plugin":"dui-modules",o.id),i.charset=r.charset,"onload"in i?(i.onload=e,i.onerror=n):i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&e()},a=i,document.head.appendChild(i),a=null}(r,function(){return v(c[r].factory)?(w(c[r].deps,function(){_(r,e,l.call(arguments,0))},{base:r}),1):(_(r,e),0)},function(){c[r].status,e(),O(r)},o)}(e,function(t){i--,s[n]=t,0===i&&o.apply(null,s)},r)}),3}function _(t,e,n){if(n){var o=c[t].factory.apply(null,n);o&&(c[t].exports=o)}else c[t].exports=c[t].factory;e(c[t].exports),O(t)}function O(t){for(var e=0;e<c[t].oncomplete.length;e++)c[t].oncomplete[e](c[t]&&c[t].exports);c[t].oncomplete=[]}function E(t){var e,n,o,r,i,s,a=1,l=arguments.length,c=!1;for("boolean"==typeof(t=arguments[0]||{})&&(c=t,t=arguments[a]||{},a++),"object"==typeof t||v(t)||(t={}),a===l&&(t=this,a--);a<l;a++)if(null!=(i=arguments[a]))for(r in i)e=t[r],t!==(o=i[r])&&(c&&o&&(y(o)||(n=h(o)))?(s=n?(n=!1,e&&h(e)?e:[]):e&&y(e)?e:{},t[r]=E(c,s,o)):void 0!==o&&(t[r]=o));return t}function x(t,e){var n,o=0;if(function(t){var e=!!t&&"length"in t&&t.length,n=m(t);return"function"!==n&&!g(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t}b.defaluts={plugins:{jquery:"plugins/jquery",template:"plugins/template",popup:"plugins/popup",element:"plugins/element",form:"plugins/form",table:"plugins/table",pagination:"plugins/pagination",tree:"plugins/tree",duiDate:"plugins/duiDate",upload:"plugins/upload",iconPicker:"plugins/iconPicker",pjax:"plugins/pjax"}},b.extend=E,b.extend({use:w,define:b,each:x,config:function(t){return p=E(!0,p,t),b}}),window.define||(window.define=b,"function"!=typeof window.require&&(window.require=b.use)),b.amd={};var T="undefined"==typeof window?0:Number(document.documentMode),L=/([\:\-\_]+(.))/g,N=/^moz([A-Z])/,S=function(t){return t.replace(L,function(t,e,n,o){return o?n.toUpperCase():n}).replace(N,"Moz$1")};function C(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}var j=document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)},z=document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)};function M(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):-1<(" "+t.className+" ").indexOf(" "+e+" ")}function A(t,e){if(t){for(var n=t.className,o=(e||"").split(" "),r=0,i=o.length;r<i;r++){var s=o[r];s&&(t.classList?t.classList.add(s):M(t,s)||(n+=" "+s))}t.classList||(t.className=n)}}function B(t,e){if(t&&e){for(var n=e.split(" "),o=" "+t.className+" ",r=0,i=n.length;r<i;r++){var s=n[r];s&&(t.classList?t.classList.remove(s):M(t,s)&&(o=o.replace(" "+s+" "," ")))}t.classList||(t.className=C(o))}}var P=T<9?function(e,n){if(!e||!n)return null;"float"===(n=S(n))&&(n="styleFloat");try{switch(n){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(t){return 1}default:return e.style[n]||e.currentStyle?e.currentStyle[n]:null}}catch(t){return e.style[n]}}:function(e,n){if(!e||!n)return null;"float"===(n=S(n))&&(n="cssFloat");try{var t=document.defaultView.getComputedStyle(e,"");return e.style[n]||t?t[n]:null}catch(t){return e.style[n]}};function k(t,e,n){if(t&&e)if("object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&k(t,o,e[o]);else"opacity"===(e=S(e))&&T<9?t.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":t.style[e]=n}function W(){var t=document.createElement("div");t.className="aiui-scrollbar-wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var o=n.offsetWidth;return t.parentNode.removeChild(t),e-o}var R=window.requestAnimationFrame?window.requestAnimationFrame:function(t,e){var n=(new Date).getTime(),o=Math.max(0,16.7-(n-lastTime));return window.setTimeout(function(){t(n+o)},o),lastTime=n+o,id};function H(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function q(t){if(!t.vnode){var e={elm:t,data:{},event:{},attrs:{},props:{}};t.vnode=e}}function F(t,e,n){t.vnode||q(t),t.vnode.data[e]=E(!0,{},n)}function I(){var t=document.querySelectorAll("*"),n=0;return x(t,function(t,e){parseInt(P(e,"z-index"))>n&&(n=parseInt(P(e,"z-index")))}),n}function D(t){this.$data="object"===m(t.data)?E(!0,{},t.data):{},this.$watch="object"===m(t.watch)?E(!0,{},t.watch):{},this.$deep="boolean"===m(t.deep)&&E(!0,{},t).deep,this.defineProx()}function $(t){return new D(t)}function J(t,e){return this.init(t,e),this}D.prototype.defineProx=function(){var a=this;!function e(r,i,s){x(r,function(t,n){var o=i?i+"."+t:t;y(r)&&(Object.defineProperty(r,t,{get:function(){return n},set:function(t){var e=t;a.$watch[o]&&"function"==typeof a.$watch[o]&&a.$watch[o](e,n)}}),s&&"object"===m(n)&&e(n,o,s))})}(this.$data,null,a.$deep)},J.prototype=J.fn={init:function(n,t){var o=this;t=E(!0,{name:"face",elem:o.elem=n,duration:300,beforeEnter:"",enter:"",afterEnter:"",enterCancelled:"",beforeLeave:"",leave:"",afterLeave:"",leaveCancelled:"",show:!0},t),F(n,"transition",t);var e=o.data=n.vnode.data.transition;return o.status=!0===e.show?"show":"hide",o.watcher=$({data:e,watch:{show:function(t,e){!0===t?(o.status="show",function(t){var e=t.elm;e._leaveCb&&(e._leaveCb.cancelled=!0,e._leaveCb());var n=t.data.transition;if(n&&!e._enterCb){var o=n.name+"-enter",r=n.name+"-enter-active",i=n.name+"-enter-to",s=n.beforeEnter,a=n.enter,l=n.afterEnter,c=n.enterCancelled,p=e._enterCb=H(function(){B(e,i),B(e,r),p.cancelled?(B(e,o),c&&c(e)):l&&l(e),e._enterCb=null});s&&s(e),A(e,o),A(e,r),R(function(){k(e,"display",""),R(function(){B(e,o),p.cancelled||(A(e,i),a&&"function"==typeof a?a(e,p):setTimeout(p,n.duration))})})}}(n.vnode)):(o.status="hide",function(t){var e=t.elm;e._enterCb&&(e._enterCb.cancelled=!0,e._enterCb());var n=t.data.transition;if(n&&!e._leaveCb){var o=n.name+"-leave",r=n.name+"-leave-active",i=n.name+"-leave-to",s=n.beforeLeave,a=n.leave,l=n.afterLeave,c=n.leaveCancelled,p=e._leaveCb=H(function(){B(e,i),B(e,r),p.cancelled?(B(e,o),c&&c(e)):(l&&l(e),k(e,"display","none")),e._leaveCb=null});s&&s(e),A(e,o),A(e,r),R(function(){B(e,o),p.cancelled||(A(e,i),a&&"function"==typeof a?a(e,p):setTimeout(p,n.duration))})}}(n.vnode))}}}),!1===e.show&&k(n,"display","none"),o},show:function(){this.watcher.$data.show=!0},hide:function(){this.watcher.$data.show=!1}};function G(t,e){return new J(t,e)}var X=window,Y={placement:"bottom",gpuAcceleration:!1,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function U(t,e,n){this._reference=t.jquery?t[0]:t,this.state={};var o=null==e,r=e&&"[object Object]"===Object.prototype.toString.call(e);return this._popper=o||r?this.parse(r?e:{}):e.jquery?e[0]:e,this._options=Object.assign({},Y,n),this._options.modifiers=this._options.modifiers.map(function(t){if(-1===this._options.modifiersIgnored.indexOf(t))return"applyStyle"===t&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[t]||t}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),ot(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function V(t){var e=t.style.display,n=t.style.visibility;t.style.display="block",t.style.visibility="hidden";t.offsetWidth;var o=X.getComputedStyle(t),r=parseFloat(o.marginTop)+parseFloat(o.marginBottom),i=parseFloat(o.marginLeft)+parseFloat(o.marginRight),s={width:t.offsetWidth+i,height:t.offsetHeight+r};return t.style.display=e,t.style.visibility=n,s}function Z(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function Q(t){var e=Object.assign({},t);return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function K(t,e){var n,o=0;for(n in t){if(t[n]===e)return o;o++}return null}function tt(t,e){return X.getComputedStyle(t,null)[e]}function et(t){var e=t.offsetParent;return e!==X.document.body&&e?e:X.document.documentElement}function nt(t){var e=t.parentNode;return e?e===X.document?X.document.body.scrollTop||X.document.body.scrollLeft?X.document.body:X.document.documentElement:-1!==["scroll","auto"].indexOf(tt(e,"overflow"))||-1!==["scroll","auto"].indexOf(tt(e,"overflow-x"))||-1!==["scroll","auto"].indexOf(tt(e,"overflow-y"))?e:nt(t.parentNode):t}function ot(n,o){Object.keys(o).forEach(function(t){var e="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&function(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}(o[t])&&(e="px"),n.style[t]=o[t]+e})}function rt(t){var e={width:t.offsetWidth,height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function it(t){var e=t.getBoundingClientRect(),n=-1!=navigator.userAgent.indexOf("MSIE")&&"HTML"===t.tagName?-t.scrollTop:e.top;return{left:e.left,top:n,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-n}}function st(t){for(var e=["","ms","webkit","moz","o"],n=0;n<e.length;n++){var o=e[n]?e[n]+t.charAt(0).toUpperCase()+t.slice(1):t;if(void 0!==X.document.body.style[o])return o}return null}U.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[st("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},U.prototype.update=function(){var t={instance:this,styles:{}};t.placement=this._options.placement,t._originalPlacement=this._options.placement,t.offsets=this._getOffsets(this._popper,this._reference,t.placement),t.boundaries=this._getBoundaries(t,this._options.boundariesPadding,this._options.boundariesElement),t=this.runModifiers(t,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(t)},U.prototype.onCreate=function(t){return t(this),this},U.prototype.onUpdate=function(t){return this.state.updateCallback=t,this},U.prototype.parse=function(t){var e={tagName:"div",classNames:["popper"],attributes:[],parent:X.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};t=Object.assign({},e,t);var n=X.document,o=n.createElement(t.tagName);if(s(o,t.classNames),a(o,t.attributes),"node"===t.contentType?o.appendChild(t.content.jquery?t.content[0]:t.content):"html"===t.contentType?o.innerHTML=t.content:o.textContent=t.content,t.arrowTagName){var r=n.createElement(t.arrowTagName);s(r,t.arrowClassNames),a(r,t.arrowAttributes),o.appendChild(r)}var i=t.parent.jquery?t.parent[0]:t.parent;if("string"==typeof i){if(1<(i=n.querySelectorAll(t.parent)).length&&console.warn("WARNING: the given `parent` query("+t.parent+") matched more than one element, the first one will be used"),0===i.length)throw"ERROR: the given `parent` doesn't exists!";i=i[0]}return 1<i.length&&i instanceof Element==!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),i=i[0]),i.appendChild(o),o;function s(e,t){t.forEach(function(t){e.classList.add(t)})}function a(e,t){t.forEach(function(t){e.setAttribute(t.split(":")[0],t.split(":")[1]||"")})}},U.prototype._getPosition=function(t,e){et(e);return this._options.forceAbsolute?"absolute":function t(e){if(e===X.document.body)return!1;if("fixed"===tt(e,"position"))return!0;return e.parentNode?t(e.parentNode):e}(e)?"fixed":"absolute"},U.prototype._getOffsets=function(t,e,n){n=n.split("-")[0];var o={};o.position=this.state.position;var r="fixed"===o.position,i=function(t,e,n){var o=it(t),r=it(e);if(n){var i=nt(e);r.top+=i.scrollTop,r.bottom+=i.scrollTop,r.left+=i.scrollLeft,r.right+=i.scrollLeft}return{top:o.top-r.top,left:o.left-r.left,bottom:o.top-r.top+o.height,right:o.left-r.left+o.width,width:o.width,height:o.height}}(e,et(t),r),s=V(t);return-1!==["right","left"].indexOf(n)?(o.top=i.top+i.height/2-s.height/2,o.left="left"===n?i.left-s.width:i.right):(o.left=i.left+i.width/2-s.width/2,o.top="top"===n?i.top-s.height:i.bottom),o.width=s.width,o.height=s.height,{popper:o,reference:i}},U.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),X.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var t=nt(this._reference);t!==X.document.body&&t!==X.document.documentElement||(t=X),t.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=t}},U.prototype._removeEventListeners=function(){X.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},U.prototype._getBoundaries=function(t,e,n){var o,r,i,s={};if("window"===n){var a=X.document.body,l=X.document.documentElement;o=Math.max(a.scrollHeight,a.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight),s={top:0,right:Math.max(a.scrollWidth,a.offsetWidth,l.clientWidth,l.scrollWidth,l.offsetWidth),bottom:o,left:0}}else if("viewport"===n){var c=et(this._popper),p=nt(this._popper),f=rt(c),u="fixed"===t.offsets.popper.position?0:(i=p)==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):i.scrollTop,d="fixed"===t.offsets.popper.position?0:(r=p)==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):r.scrollLeft;s={top:0-(f.top-u),right:X.document.documentElement.clientWidth-(f.left-d),bottom:X.document.documentElement.clientHeight-(f.top-u),left:0-(f.left-d)}}else s=et(this._popper)===n?{top:0,left:0,right:n.clientWidth,bottom:n.clientHeight}:rt(n);return s.left+=e,s.right-=e,s.top=s.top+e,s.bottom=s.bottom-e,s},U.prototype.runModifiers=function(e,t,n){var o=t.slice();return void 0!==n&&(o=this._options.modifiers.slice(0,K(this._options.modifiers,n))),o.forEach(function(t){!function(t){return t&&"[object Function]"==={}.toString.call(t)}(t)||(e=t.call(this,e))}.bind(this)),e},U.prototype.isModifierRequired=function(t,e){var n=K(this._options.modifiers,t);return!!this._options.modifiers.slice(0,n).filter(function(t){return t===e}).length},(U.prototype.modifiers={}).applyStyle=function(t){var e,n={position:t.offsets.popper.position},o=Math.round(t.offsets.popper.left),r=Math.round(t.offsets.popper.top);return this._options.gpuAcceleration&&(e=st("transform"))?(n[e]="translate3d("+o+"px, "+r+"px, 0)",n.top=0,n.left=0):(n.left=o,n.top=r),Object.assign(n,t.styles),ot(this._popper,n),this._popper.setAttribute("x-placement",t.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&t.offsets.arrow&&ot(t.arrowElement,t.offsets.arrow),t},U.prototype.modifiers.shift=function(t){var e=t.placement,n=e.split("-")[0],o=e.split("-")[1];if(o){var r=t.offsets.reference,i=Q(t.offsets.popper),s={y:{start:{top:r.top},end:{top:r.top+r.height-i.height}},x:{start:{left:r.left},end:{left:r.left+r.width-i.width}}},a=-1!==["bottom","top"].indexOf(n)?"x":"y";t.offsets.popper=Object.assign(i,s[a][o])}return t},U.prototype.modifiers.preventOverflow=function(e){var t=this._options.preventOverflowOrder,n=Q(e.offsets.popper),o={left:function(){var t=n.left;return n.left<e.boundaries.left&&(t=Math.max(n.left,e.boundaries.left)),{left:t}},right:function(){var t=n.left;return n.right>e.boundaries.right&&(t=Math.min(n.left,e.boundaries.right-n.width)),{left:t}},top:function(){var t=n.top;return n.top<e.boundaries.top&&(t=Math.max(n.top,e.boundaries.top)),{top:t}},bottom:function(){var t=n.top;return n.bottom>e.boundaries.bottom&&(t=Math.min(n.top,e.boundaries.bottom-n.height)),{top:t}}};return t.forEach(function(t){e.offsets.popper=Object.assign(n,o[t]())}),e},U.prototype.modifiers.keepTogether=function(t){var e=Q(t.offsets.popper),n=t.offsets.reference,o=Math.floor;return e.right<o(n.left)&&(t.offsets.popper.left=o(n.left)-e.width),e.left>o(n.right)&&(t.offsets.popper.left=o(n.right)),e.bottom<o(n.top)&&(t.offsets.popper.top=o(n.top)-e.height),e.top>o(n.bottom)&&(t.offsets.popper.top=o(n.bottom)),t},U.prototype.modifiers.flip=function(r){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),r;if(r.flipped&&r.placement===r._originalPlacement)return r;var i=r.placement.split("-")[0],s=Z(i),a=r.placement.split("-")[1]||"",l=[];return(l="flip"===this._options.flipBehavior?[i,s]:this._options.flipBehavior).forEach(function(t,e){if(i===t&&l.length!==e+1){i=r.placement.split("-")[0],s=Z(i);var n=Q(r.offsets.popper),o=-1!==["right","bottom"].indexOf(i);(o&&Math.floor(r.offsets.reference[i])>Math.floor(n[s])||!o&&Math.floor(r.offsets.reference[i])<Math.floor(n[s]))&&(r.flipped=!0,r.placement=l[e+1],a&&(r.placement+="-"+a),r.offsets.popper=this._getOffsets(this._popper,this._reference,r.placement).popper,r=this.runModifiers(r,this._options.modifiers,this._flip))}}.bind(this)),r},U.prototype.modifiers.offset=function(t){var e=this._options.offset,n=t.offsets.popper;return-1!==t.placement.indexOf("left")?n.top-=e:-1!==t.placement.indexOf("right")?n.top+=e:-1!==t.placement.indexOf("top")?n.left-=e:-1!==t.placement.indexOf("bottom")&&(n.left+=e),t},U.prototype.modifiers.arrow=function(t){var e=this._options.arrowElement,n=this._options.arrowOffset;if("string"==typeof e&&(e=this._popper.querySelector(e)),!e)return t;if(!this._popper.contains(e))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),t;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),t;var o={},r=t.placement.split("-")[0],i=Q(t.offsets.popper),s=t.offsets.reference,a=-1!==["left","right"].indexOf(r),l=a?"height":"width",c=a?"top":"left",p=a?"left":"top",f=a?"bottom":"right",u=V(e)[l];s[f]-u<i[c]&&(t.offsets.popper[c]-=i[c]-(s[f]-u)),s[c]+u>i[f]&&(t.offsets.popper[c]+=s[c]+u-i[f]);var d=s[c]+(n||s[l]/2-u/2)-i[c];return d=Math.max(Math.min(i[l]-u-8,d),8),o[c]=d,o[p]="",t.offsets.arrow=o,t.arrowElement=e,t},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o){o=Object(o);for(var r=Object.keys(o),i=0,s=r.length;i<s;i++){var a=r[i],l=Object.getOwnPropertyDescriptor(o,a);void 0!==l&&l.enumerable&&(e[a]=o[a])}}}return e}});function at(t){return t.stopPropagation()}function lt(t,e,n){var o=this,r=o.createCallback=E(!0,{},n).onCreate,i=o.updateCallback=E(!0,{},n).onUpdate;o.reference=t,o.popperElm=e,delete n.onCreate&&delete n.onUpdate,o.popperJS=new U(t,e,n),"function"==typeof r&&o.popperJS.onCreate(r),"function"==typeof i&&o.popperJS.onUpdate(i),o.popperJS._popper.style.zIndex=I()+1,j(o.popperElm,"click",at),j(window,"resize",function(){o.updatePopper()})}lt.prototype.updatePopper=function(e){var n=this.popperJS,o=this;n?(e&&n.onUpdate(function(t){console.log("进来了"),e.call(o,t),n.onUpdate(o.updateCallback)}),n.update(),n._popper&&(n._popper.style.zIndex=I()+1)):this.createPopper()};var ct=function(){if("undefined"!=typeof Map)return Map;function o(t,n){var o=-1;return t.some(function(t,e){return t[0]===n&&(o=e,!0)}),o}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=o(this.__entries__,t),n=this.__entries__[e];return n&&n[1]},t.prototype.set=function(t,e){var n=o(this.__entries__,t);~n?this.__entries__[n][1]=e:this.__entries__.push([t,e])},t.prototype.delete=function(t){var e=this.__entries__,n=o(e,t);~n&&e.splice(n,1)},t.prototype.has=function(t){return!!~o(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,o=this.__entries__;n<o.length;n++){var r=o[n];t.call(e,r[1],r[0])}},t;function t(){this.__entries__=[]}}(),pt="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ft="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ut="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ft):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},dt=2;var ht=["top","right","bottom","left","width","height","size","weight"],vt="undefined"!=typeof MutationObserver,mt=(gt.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},gt.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},gt.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},gt.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},gt.prototype.connect_=function(){pt&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),vt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},gt.prototype.disconnect_=function(){pt&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},gt.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;ht.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},gt.getInstance=function(){return this.instance_||(this.instance_=new gt),this.instance_},gt.instance_=null,gt);function gt(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,o=!1,r=0;function i(){n&&(n=!1,t()),o&&a()}function s(){ut(i)}function a(){var t=Date.now();if(n){if(t-r<dt)return;o=!0}else o=!(n=!0),setTimeout(s,e);r=t}return a}(this.refresh.bind(this),20)}var yt=function(t,e){for(var n=0,o=Object.keys(e);n<o.length;n++){var r=o[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},bt=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||ft},wt=Lt(0,0,0,0);function _t(t){return parseFloat(t)||0}function Ot(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(t,e){return t+_t(n["border-"+e+"-width"])},0)}function Et(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return wt;var o=bt(t).getComputedStyle(t),r=function(t){for(var e={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var r=o[n],i=t["padding-"+r];e[r]=_t(i)}return e}(o),i=r.left+r.right,s=r.top+r.bottom,a=_t(o.width),l=_t(o.height);if("border-box"===o.boxSizing&&(Math.round(a+i)!==e&&(a-=Ot(o,"left","right")+i),Math.round(l+s)!==n&&(l-=Ot(o,"top","bottom")+s)),!function(t){return t===bt(t).document.documentElement}(t)){var c=Math.round(a+i)-e,p=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(p)&&(l-=p)}return Lt(r.left,r.top,a,l)}var xt="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof bt(t).SVGGraphicsElement}:function(t){return t instanceof bt(t).SVGElement&&"function"==typeof t.getBBox};function Tt(t){return pt?xt(t)?function(t){var e=t.getBBox();return Lt(0,0,e.width,e.height)}(t):Et(t):wt}function Lt(t,e,n,o){return{x:t,y:e,width:n,height:o}}var Nt=(St.prototype.isActive=function(){var t=Tt(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},St.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},St);function St(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Lt(0,0,0,0),this.target=t}var Ct=function(t,e){var n=function(t){var e=t.x,n=t.y,o=t.width,r=t.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(i.prototype);return yt(s,{x:e,y:n,width:o,height:r,top:n,right:e+o,bottom:r+n,left:e}),s}(e);yt(this,{target:t,contentRect:n})},jt=(zt.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof bt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Nt(t)),this.controller_.addObserver(this),this.controller_.refresh())}},zt.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof bt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},zt.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},zt.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},zt.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new Ct(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},zt.prototype.clearActive=function(){this.activeObservations_.splice(0)},zt.prototype.hasActive=function(){return 0<this.activeObservations_.length},zt);function zt(t,e,n){if(this.activeObservations_=[],this.observations_=new ct,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}var Mt="undefined"!=typeof WeakMap?new WeakMap:new ct,At=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=mt.getInstance(),o=new jt(e,n,this);Mt.set(this,o)};["observe","unobserve","disconnect"].forEach(function(e){At.prototype[e]=function(){var t;return(t=Mt.get(this))[e].apply(t,arguments)}});function Bt(t){var e=!0,n=!1,o=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var s=r.value.target.__resizeListeners__||[];s.length&&s.forEach(function(t){t()})}}catch(t){n=!0,o=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw o}}}function Pt(t,e){Wt||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new kt(Bt),t.__ro__.observe(t)),t.__resizeListeners__.push(e))}var kt=void 0!==ft.ResizeObserver?ft.ResizeObserver:At,Wt="undefined"==typeof window,Rt={scroll:"dui-scrollbar"},Ht={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function qt(t,e){var n=this;F(n.original=t,"scrollbar",e),n.data=t.vnode.data.scrollbar,n.scroll=document.createElement("div"),A(n.scroll,Rt.scroll),n.wrap=document.createElement("div"),n.scroll.append(n.wrap),n.moveX=0,n.moveY=0,n.sizeWidth="0",n.sizeHeight="0",n.init()}function Ft(o,t){var r=this,i=r.config=E(!0,{},Ht[t.vertical?"vertical":"horizontal"]),e=t.size?t.size:"",n=t.move?t.move:0;function s(t){if(!1!==r.cursorDown){var e=r[i.axis];if(e){var n=100*(-1*(r.bar.getBoundingClientRect()[i.direction]-t[i.client])-(r.thumb[i.offset]-e))/r.bar[i.offset];o.wrap[i.scroll]=n*o.wrap[i.scrollSize]/100}}}function a(t){r.cursorDown=!1,r[i.axis]=0,z(document,"mousemove",s),document.onselectstart=null}r.bar=document.createElement("div"),r.bar.className="dui-scrollbar__bar is-"+r.config.key,r.thumb=document.createElement("div"),r.thumb.className="dui-scrollbar__thumb",r.thumb.style=function(t){var e=t.move,n=t.size,o=t.bar,r={},i="",s="translate".concat(o.axis,"(").concat(e,"%)");return r[o.size]=n,r.transform=s,x(r,function(t,e){i+=t+":"+e+";"}),i}({move:n,size:e,bar:i}),r.bar.append(r.thumb),o.scroll.append(r.bar),j(r.bar,"mousedown",function(t){var e=100*(Math.abs(t.target.getBoundingClientRect()[i.direction]-t[i.client])-r.thumb[i.offset]/2)/r.bar[i.offset];o.wrap[i.scroll]=e*o.wrap[i.scrollSize]/100}),j(r.thumb,"mousedown",function(t){t.ctrlKey||2===t.button||(function(t){t.stopImmediatePropagation(),r.cursorDown=!0,j(document,"mousemove",s),j(document,"mouseup",a),document.onselectstart=function(){return!1}}(t),r[i.axis]=t.currentTarget[i.offset]-(t[i.client]-t.currentTarget.getBoundingClientRect()[i.direction]))})}qt.prototype.init=function(){var e=this,t=W(),n=e.data.wrapStyle;if(t){var o="-".concat(t,"px"),r="margin-bottom: ".concat(o,"; margin-right: ").concat(o,";");"string"==typeof this.wrapStyle?n+=r:n=r}e.wrap.className="dui-scrollbar__wrap"+(e.data.wrapClass?" "+e.data.wrapClass:"")+(t?"":" dui-scrollbar__wrap--hidden-default"),n&&(e.wrap.style=n),e.setSize(),e.barX=new Ft(e,{vertical:!1,size:e.sizeWidth,move:e.moveX}),e.barY=new Ft(e,{vertical:!0,size:e.sizeHeight,move:e.moveY}),e.original.parentNode?e.original.parentNode.insertBefore(e.scroll,e.original):document.body.append(e.scroll),e.wrap.append(e.original),e.update(),j(e.wrap,"scroll",function(t){e.moveY=100*e.wrap.scrollTop/e.wrap.clientHeight,e.moveX=100*e.wrap.scrollLeft/e.wrap.clientWidth,e.barY.thumb.style.transform="translateY("+e.moveY+"%)",e.barX.thumb.style.transform="translateX("+e.moveX+"%)"}),e.data.noresize||Pt(e.original,function(){e.update()})},qt.prototype.setSize=function(){var t,e,n=this.wrap;n&&(t=100*n.clientHeight/n.scrollHeight,e=100*n.clientWidth/n.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")},qt.prototype.update=function(){var t=this;t.setSize(),t.barY.thumb.style.height=t.sizeHeight,t.barX.thumb.style.width=t.sizeWidth};function It(t){return this.config=dui.extend(!0,{id:"id",pid:"pid",child:"child"},t),this}return It.prototype.toLayer=function(t,o,r){var i=this,s=i.config,a=[],l=JSON.parse(JSON.stringify(t));return o=o||0,r=r||0,dui.each(l,function(t,e){if(e[s.pid]==o){var n=i.toLayer(l,e[s.id],r+1);0<n.length&&(e.hasChild=!0,e[s.child]=n),a.push(e)}}),a},It.prototype.toList=function(t,r,i){var s=this,a=s.config,l=[],c=JSON.parse(JSON.stringify(t));return r=r||0,i=i||0,dui.each(c,function(t,e){var n=JSON.parse(JSON.stringify(c));if(e[a.pid]==r){e.level=i+1;var o=s.toLayer(n,e[a.id],i+1);0<o.length&&(e.hasChild=!0,e[a.child]=o),l.push(e),l=l.concat(s.toList(c,e[a.id],i+1))}}),l},b.extend({trim:C,on:j,off:z,once:function(e,n,o){j(e,n,function t(){o&&o.apply(this,arguments),z(e,n,t)})},getStyle:P,setStyle:k,scrollBarWidth:W,hasClass:M,addClass:A,removeClass:B,transition:G,collapseTransition:function(t,e){return e=E(!0,{show:!1},e),G(t,{name:"collapse",beforeEnter:function(t){A(t,"collapse-transition"),t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0,t.style.overflow="hidden"},enter:function(t,e){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?t.style.height=t.scrollHeight+"px":t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,setTimeout(e,300)},afterEnter:function(t){B(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow},beforeLeave:function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},leave:function(t,e){0!==t.scrollHeight&&(A(t,"collapse-transition"),t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0),setTimeout(e,300)},afterLeave:function(t){B(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,e.afterLeave&&e.afterLeave(t)},show:e.show})},watcher:$,setVnode:q,setData:F,bind:function(t,e,n,o){t.vnode||q(t),t.vnode.event[e]||(t.vnode.event[e]={}),t.vnode.event[e][n]=o},unbind:function(t,e,n,o){t.vnode&&t.vnode.event[e]&&t.vnode.event[e][n]&&delete t.vnode.event[e][n]},setProps:function(i,s,a){i.vnode||q(i);var t=i.attributes;i.vnode.attrs={},x(t,function(t,e){var n=e.name,o=e.nodeValue;i.vnode.attrs[n]=o}),i.vnode.props[s]={},x(a,function(t,e){var n,o,r=function(t){var e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});"-"===e.slice(0,1)&&(e=e.slice(1));return e}(t).replace("","");i.vnode.attrs[r]?"function"==typeof e?e===Boolean?i.vnode.props[s][t]="true"==i.vnode.attrs[r]:e===Number?i.vnode.props[s][t]=Number(i.vnode.attrs[r]):e===String&&(i.vnode.props[s][t]=String(i.vnode.attrs[r])):"array"===m(e.type)?(n=-1!=["true","false"].indexOf(i.vnode.attrs[r])?"true"==i.vnode.attrs[r]:i.vnode.attrs[r]===Number(i.vnode.attrs[r])+""?Number(i.vnode.attrs[r]):String(i.vnode.attrs[r]),i.vnode.props[s][t]=n):e.type(i.vnode.attrs[r])?i.vnode.props[s][t]=e.type(i.vnode.attrs[r]):void 0===a[t].default&&((o="array"===m(a[t].type)?a[t].type[0]:a[t].type)===Boolean?i.vnode.props[s][t]=!1:o===Number?i.vnode.props[s][t]=0:i.vnode.props[s][t]=""):"function"===m(e)?e===Boolean?i.vnode.props[s][t]=!1:e===Number?i.vnode.props[s][t]=0:i.vnode.props[s][t]="":void 0!==e.default?i.vnode.props[s][t]=e.default:(o="array"===m(e.type)?e.type[0]:e.type)===Boolean?i.vnode.props[s][t]=!1:o===Number?i.vnode.props[s][t]=0:i.vnode.props[s][t]=""})},convertProp:function(t,e){return t="array"===m(e)?-1!=["true","false"].indexOf(t)?"true"==t:t===Number(t)+""?Number(t):String(t):e(t)},getMaxZIndex:I,addPopper:function(t,e,n){return new lt(t,e,n)},addScrollBar:function(t,e){return new qt(t,e)},addResizeListener:Pt,removeResizeListener:function(t,e){t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())},sort:function(t,i,e){var n=JSON.parse(JSON.stringify(t||[]));return i&&(n.sort(function(t,e){var n=/^-?\d+$/,o=t[i],r=e[i];return n.test(o)&&(o=parseFloat(o)),n.test(r)&&(r=parseFloat(r)),o&&!r?1:!o&&r?-1:r<o?1:o<r?-1:0}),e&&n.reverse()),n},jsTree:It}),b});